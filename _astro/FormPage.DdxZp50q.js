var r=(e=>(e[e.TestThenControl=0]="TestThenControl",e[e.ControlThenTest=1]="ControlThenTest",e))(r||{});function g(e,o,t,n){let s=u();d(s,e),m(o,t,s,h(n))}function u(){return Math.random()<.5?r.ControlThenTest:r.TestThenControl}function d(e,o){const t=document.getElementById("option-a-video"),n=document.getElementById("option-b-video");t.setAttribute("src",o[e][0]),n.setAttribute("src",o[e][1])}const T={[r.ControlThenTest]:{"option-a":"Control","option-b":"Test","no-preference":"No Preference"},[r.TestThenControl]:{"option-a":"Test","option-b":"Control","no-preference":"No Preference"}};function m(e,o,t,n){document.getElementById("form").addEventListener("submit",a=>{a.preventDefault();let c=document.querySelector('input[name="option-select"]:checked');if(c!=null){let i=c.id,p=T[t][i];fetch(e,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:f(o,p)}).then(l=>window.location.replace(n)).catch(l=>console.log(l))}})}function f(e,o){let t=new FormData;return t.append(e,o),t}function h(e){let o=parseInt(new URLSearchParams(window.location.search).get("progress")),t="";return o===0?t+=e:t+="end",o++,t+="?progress="+o,t}export{r as C,g as s};
